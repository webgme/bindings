language: node_js
services:
  - mongodb

cache:
  directories:
    - node_modules

node_js:
  - "8"
  - "10"
  - "12"

before_script:
  - "npm install webgme-engine"
  - "pyenv install --list"
  - "pyenv global 3.7.1"
  - "sudo pip3 install -U pip"
  - "cd python/webgme_bindings"
  - "sudo pip3 install -e ."

script:
  - "npm run test"